<!DOCTYPE html>
<html>
<head>
    <title>Mongolian Cyrillic typer</title>
<meta charset="utf-8">

    <script type="text/javascript">

var conversion = {
"`":"=",
"~":"+",
"!":"1",
"@":"2",
"#":"3",
"$":"4",
"%":"5",
"^":"6",
"&":"7",
"*":"8",
"(":"9",
")":"0",
"1":"№",
"2":"-",
"3":'"',
"4":"₮",
"5":":",
"6":".",
"7":"_",
"8":",",
"9":"%",
"0":"?",
"-":"е",
"_":"Е",
"=":"щ",
"+":"Щ",

"q":"ф",
"Q":"Ф",
"w":"ц",
"W":"Ц",
"e":"у",
"E":"У",
"r":"ж",
"R":"Ж",
"t":"э",
"T":"Э",
"y":"н",
"Y":"Н",
"u":"г",
"U":"Г",
"i":"ш",
"I":"Ш",
"o":"ү",
"O":"Ү",
"p":"з",
"P":"З",
"[":"к",
"{":"К",
"]":"ъ",
"}":"Ъ",

"a":"й",
"A":"Й",
"s":"ы",
"S":"Ы",
"d":"б",
"D":"Б",
"f":"ө",
"F":"Ө",
"g":"а",
"G":"А",
"h":"х",
"H":"Х",
"j":"р",
"J":"Р",
"k":"о",
"K":"О",
"l":"л",
"L":"Л",
";":"д",
":":"Д",
"'":"п",
'"':"П",

"z":"я",
"Z":"Я",
"x":"ч",
"X":"Ч",
"c":"ё",
"C":"Ё",
"v":"с",
"V":"С",
"b":"м",
"B":"М",
"n":"и",
"N":"И",
"m":"т",
"M":"Т",
",":"ь",
"<":"Ь",
".":"в",
">":"В",
"\u002f":"ю",
"?":"Ю",
        };

 var maxLength = Object.keys(conversion)
    .reduce((a, b) => a.length > b.length ? a : b) // get the longest word
    .length; // and it's length
  
  function convert (text) {
    var converted = "";
    var cur = 0;
    while (cur < text.length) {
      var testedPhoneme;
      var symbol = undefined;
      for (var length = maxLength; length > 0; length --) {
        testedPhoneme = text.substr(cur, length);
        if (conversion[testedPhoneme]) {
          symbol = conversion[testedPhoneme];
          break; // stop the loop
        }
      }
      if (symbol) {
        converted += symbol;
        cur += testedPhoneme.length;
      }
      else {
        converted += text[cur]
        cur++;
      }
    }
    return converted
  }

  function onInputTextChange(txt) {
    var outputTextareaElem = document.getElementById("output_textarea");
    var div = document.createElement("div");
    var outputHtmlEntities = convert(txt);
    div.innerHTML = outputHtmlEntities;
    outputTextareaElem.value = div.innerText;
  }


        function select() {
          const input = document.getElementById('input_textarea');
          input.focus();
          input.select();
        }   
        function copytext() {
          var copyText = document.getElementById("output_textarea");
          copyText.select();
          copyText.setSelectionRange(0, 99999)
          document.execCommand("copy");
        }
function back(event) {
  var x = event.which || event.keyCode;
  if ( x == 8 ) {
  document.getElementById('back').style.backgroundColor = '#7ca';
} else {
  document.getElementById('back').style.backgroundColor = '#eee';
}
}
function hilight(event) {
  var x = event.which || event.keyCode;
  if (x == 96 || x == 126 ) {
  document.getElementById('backtick').style.backgroundColor = '#f55';
} else {
  document.getElementById('backtick').style.backgroundColor = '#eee';
}
  if (x == 49 || x == 33 ) {
  document.getElementById('one').style.backgroundColor = '#f55';
} else {
  document.getElementById('one').style.backgroundColor = '#eee';
}
  if (x == 50 || x == 64 ) {
  document.getElementById('two').style.backgroundColor = '#f55';
} else {
  document.getElementById('two').style.backgroundColor = '#eee';
}
  if (x == 51 || x == 35 ) {
  document.getElementById('three').style.backgroundColor = '#f55';
} else {
  document.getElementById('three').style.backgroundColor = '#eee';
}
  if (x == 52 || x == 36 ) {
  document.getElementById('four').style.backgroundColor = '#f55';
} else {
  document.getElementById('four').style.backgroundColor = '#eee';
}
  if (x == 53 || x == 37 ) {
  document.getElementById('five').style.backgroundColor = '#f55';
} else {
  document.getElementById('five').style.backgroundColor = '#eee';
}
  if (x == 54 || x == 94 ) {
  document.getElementById('six').style.backgroundColor = '#f55';
} else {
  document.getElementById('six').style.backgroundColor = '#eee';
}
  if (x == 55 || x == 38 ) {
  document.getElementById('seven').style.backgroundColor = '#f55';
} else {
  document.getElementById('seven').style.backgroundColor = '#eee';
}
  if (x == 56 || x == 42 ) {
  document.getElementById('eight').style.backgroundColor = '#f55';
} else {
  document.getElementById('eight').style.backgroundColor = '#eee';
}
  if (x == 57 || x == 40 ) {
  document.getElementById('nine').style.backgroundColor = '#f55';
} else {
  document.getElementById('nine').style.backgroundColor = '#eee';
}
  if (x == 48 || x == 41 ) {
  document.getElementById('zero').style.backgroundColor = '#f55';
} else {
  document.getElementById('zero').style.backgroundColor = '#eee';
}
  if (x == 45 || x == 95 ) {
  document.getElementById('hypen').style.backgroundColor = '#f55';
} else {
  document.getElementById('hypen').style.backgroundColor = '#eee';
}
  if (x == 61 || x == 43 ) {
  document.getElementById('equal').style.backgroundColor = '#f55';
} else {
  document.getElementById('equal').style.backgroundColor = '#eee';
}
  if (x == 81 || x == 113) {
  document.getElementById('q').style.backgroundColor = '#f55';
} else {
  document.getElementById('q').style.backgroundColor = '#eee';
}
if (x == 87 || x == 119) {
  document.getElementById('w').style.backgroundColor = '#f55';
} else {
  document.getElementById('w').style.backgroundColor = '#eee';
}
  if (x == 101 || x == 69) {
  document.getElementById('e').style.backgroundColor = '#f55';
} else {
  document.getElementById('e').style.backgroundColor = '#eee';
}
  if (x == 114 || x == 82) {
  document.getElementById('r').style.backgroundColor = '#f55';
} else {
  document.getElementById('r').style.backgroundColor = '#eee';
}
  if (x == 116 || x == 84) {
  document.getElementById('t').style.backgroundColor = '#f55';
} else {
  document.getElementById('t').style.backgroundColor = '#eee';
}
  if (x == 121 || x == 89) {
  document.getElementById('y').style.backgroundColor = '#f55';
} else {
  document.getElementById('y').style.backgroundColor = '#eee';
}
  if (x == 117 || x == 85) {
  document.getElementById('u').style.backgroundColor = '#f55';
} else {
  document.getElementById('u').style.backgroundColor = '#eee';
}
  if (x == 105 || x == 73) {
  document.getElementById('i').style.backgroundColor = '#f55';
} else {
  document.getElementById('i').style.backgroundColor = '#eee';
}
  if (x == 111 || x == 79) {
  document.getElementById('o').style.backgroundColor = '#f55';
} else {
  document.getElementById('o').style.backgroundColor = '#eee';
}
  if (x == 112 || x == 80) {
  document.getElementById('p').style.backgroundColor = '#f55';
} else {
  document.getElementById('p').style.backgroundColor = '#eee';
}
  if (x == 91 || x == 123) {
  document.getElementById('lb').style.backgroundColor = '#f55';
} else {
  document.getElementById('lb').style.backgroundColor = '#eee';
}
  if (x == 93 || x == 125) {
  document.getElementById('rb').style.backgroundColor = '#f55';
} else {
  document.getElementById('rb').style.backgroundColor = '#eee';
}
  if (x == 97 || x == 65 ) {
  document.getElementById('a').style.backgroundColor = '#f55';
} else {
  document.getElementById('a').style.backgroundColor = '#eee';
}
  if (x == 115 || x == 83 ) {
  document.getElementById('s').style.backgroundColor = '#f55';
} else {
  document.getElementById('s').style.backgroundColor = '#eee';
}
  if (x == 100 || x == 68 ) {
  document.getElementById('d').style.backgroundColor = '#f55';
} else {
  document.getElementById('d').style.backgroundColor = '#eee';
}
  if (x == 102 || x == 70 ) {
  document.getElementById('f').style.backgroundColor = '#f55';
} else {
  document.getElementById('f').style.backgroundColor = '#bbb';
}
  if (x == 103 || x == 71 ) {
  document.getElementById('g').style.backgroundColor = '#f55';
} else {
  document.getElementById('g').style.backgroundColor = '#eee';
}
  if (x == 104 || x == 72 ) {
  document.getElementById('h').style.backgroundColor = '#f55';
} else {
  document.getElementById('h').style.backgroundColor = '#eee';
}
  if (x == 106 || x == 74 ) {
  document.getElementById('j').style.backgroundColor = '#f55';
} else {
  document.getElementById('j').style.backgroundColor = '#bbb';
}  if (x == 107 || x == 75 ) {
  document.getElementById('k').style.backgroundColor = '#f55';
} else {
  document.getElementById('k').style.backgroundColor = '#eee';
}  if (x == 108 || x == 76 ) {
  document.getElementById('l').style.backgroundColor = '#f55';
} else {
  document.getElementById('l').style.backgroundColor = '#eee';
}  if (x == 59 || x == 58 ) {
  document.getElementById('semicolon').style.backgroundColor = '#f55';
} else {
  document.getElementById('semicolon').style.backgroundColor = '#eee';
}  if (x == 39 || x == 34 ) {
  document.getElementById('apostrophe').style.backgroundColor = '#f55';
} else {
  document.getElementById('apostrophe').style.backgroundColor = '#eee';
}
  if (x == 122 || x == 90 ) {
  document.getElementById('z').style.backgroundColor = '#f55';
} else {
  document.getElementById('z').style.backgroundColor = '#eee';
}
  if (x == 120 || x == 88 ) {
  document.getElementById('x').style.backgroundColor = '#f55';
} else {
  document.getElementById('x').style.backgroundColor = '#eee';
}
  if (x == 99 || x == 67 ) {
  document.getElementById('c').style.backgroundColor = '#f55';
} else {
  document.getElementById('c').style.backgroundColor = '#eee';
}
  if (x == 118 || x == 86 ) {
  document.getElementById('v').style.backgroundColor = '#f55';
} else {
  document.getElementById('v').style.backgroundColor = '#eee';
}
  if (x == 98 || x == 66 ) {
  document.getElementById('b').style.backgroundColor = '#f55';
} else {
  document.getElementById('b').style.backgroundColor = '#eee';
}
  if (x == 110 || x == 78 ) {
  document.getElementById('n').style.backgroundColor = '#f55';
} else {
  document.getElementById('n').style.backgroundColor = '#eee';
}
  if (x == 109 || x == 77 ) {
  document.getElementById('m').style.backgroundColor = '#f55';
} else {
  document.getElementById('m').style.backgroundColor = '#eee';
}
  if (x == 44 || x == 60 ) {
  document.getElementById('comma').style.backgroundColor = '#f55';
} else {
  document.getElementById('comma').style.backgroundColor = '#eee';
}  if (x == 46 || x == 62 ) {
  document.getElementById('period').style.backgroundColor = '#f55';
} else {
  document.getElementById('period').style.backgroundColor = '#eee';
}  if (x == 47 || x == 63 ) {
  document.getElementById('slash').style.backgroundColor = '#f55';
} else {
  document.getElementById('slash').style.backgroundColor = '#eee';
}
  if (x == 32 ) {
  document.getElementById('space').style.backgroundColor = '#f55';
} else {
  document.getElementById('space').style.backgroundColor = '#eee';
}
}
    </script>
    
<style>
html {
  font-family:arial;
}
table {
  border-collapse: collapse;
  width: 90%;
}
td, th {
  border: 1px solid #AAA;
  text-align: center;
  padding: 1px;
}
textarea {
    font-size: 13pt;
    width: 96%;
    font-family: arial;
} 
.note {
  border: 1px solid #DDD;
  width: 10%;
  text-align: left;
  padding-left: 30px;
  padding-right: 30px;
  padding-top: 10px;
  padding-bottom: 10px;
}
.box {
font-size: 2.0rem;
display: inline-block;
line-height: 1.0;
width: 40px;
border: 1px solid;
min-height: 30px;
padding: 3px;
background-color: #eee;
border-radius: 5px;
}
</style>


</head>
<body>  

<body>  

<center><h1 class="text-center">Mongolian Cyrillic typer</h1>
</center>
 
<center>
<table>
<thead>
<tr>
<th>	
<button onclick="select('input_textarea')">Select all</button>
<button onclick="document.getElementById('input_textarea').value = ''">Clear</button>
</th>
<th>
<button onclick="copytext()">Copy text</button>
<button onclick="bolor()">Bolor D.</button><br>
<button onclick="searchglosbe()">Glosbe</button>
<button onclick="searchwikt()">Wiktionary</button>
<script>
function bolor() {
  window.open("http://www.bolor-toli.com/dictionary/word?authenticity_token=selected_lang=4-1&search=" + document.getElementById('output_textarea').value, "_blank", "toolbar=yes,scrollbars=yes,resizable=yes,top=0,left=300,width=600,height=600");
}
function searchglosbe() {
  window.open("http://glosbe.com/mn/en/" + document.getElementById('output_textarea').value, "_blank", "toolbar=yes,scrollbars=yes,resizable=yes,top=0,left=300,width=600,height=600");
}
function searchwikt() {
  window.open("https://en.wiktionary.org/wiki/" + document.getElementById('output_textarea').value + "#Mongolian", "_blank", "toolbar=yes,scrollbars=yes,resizable=yes,top=0,left=300,width=600,height=600");
}
</script>
</th>
</thead>
<tbody>
<tr>
<td>
<textarea
id="input_textarea"
autofocus=""
placeholder="input"
rows="10"
oninput="onInputTextChange(this.value)"
onkeydown="back(event)"
onkeypress="hilight(event)"></textarea>    
</td>
<td>
<textarea rows="10" placeholder="output" id="output_textarea"></textarea>    
</td>
</tr>
</tbody>
</table><br>
<div class="body" align="center" style="line-height: 2.4;">
<span class="box" id="backtick">=⁺</span>
<span class="box" id="one">№¹</span>
<span class="box" id="two">-²</span>
<span class="box" id="three">"³</span>
<span class="box" id="four">₮⁴</span>
<span class="box" id="five">:⁵</span>
<span class="box" id="six">.⁶</span>
<span class="box" id="seven">_⁷</span>
<span class="box" id="eight">,⁸</span>
<span class="box" id="nine">%⁹</span>
<span class="box" id="zero">?⁰</span>
<span class="box" id="hypen">е</span>
<span class="box" id="equal">щ</span>
<span class="box" id="back" style="width: 80px;">Back</span><br>
<span class="box" id="q">ф</span>
<span class="box" id="w">ц</span>
<span class="box" id="e">у</span>
<span class="box" id="r">ж</span>
<span class="box" id="t">э</span>
<span class="box" id="y">н</span>
<span class="box" id="u">г</span>
<span class="box" id="i">ш</span>
<span class="box" id="o">ү</span>
<span class="box" id="p">з</span>
<span class="box" id="lb">к</span>
<span class="box" id="rb">ъ</span><br>
<span class="box" id="a">й</span>
<span class="box" id="s">ы</span>
<span class="box" id="d">б</span>
<span class="box" id="f" style="background-color:#bbb;">ө</span>
<span class="box" id="g">а</span>
<span class="box" id="h">х</span>
<span class="box" id="j" style="background-color:#bbb;">р</span>
<span class="box" id="k">о</span>
<span class="box" id="l">л</span>
<span class="box" id="semicolon">д</span>
<span class="box" id="apostrophe">п</span><br>
<span class="box" id="z">я</span>
<span class="box" id="x">ч</span>
<span class="box" id="c">ё</span>
<span class="box" id="v">с</span>
<span class="box" id="b">м</span>
<span class="box" id="n">и</span>
<span class="box" id="m">т</span>
<span class="box" id="comma">ь</span>
<span class="box" id="period">в</span>
<span class="box" id="slash">ю</span><br>
<span class="box" id="space" style="width: 240px;">​</span>
</div>
</center>

</body>
</html>
